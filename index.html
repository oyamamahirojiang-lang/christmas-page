<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ç¥ä½ åœ£è¯å¿«ä¹ ğŸ„</title>
  <style>
    :root{
      /* è¿™é‡Œçš„é¢œè‰²è°ƒæ•´ä¸ºé€‚åº”æ·±è‰²èƒŒæ™¯ */
      --bg-overlay: rgba(20, 30, 40, 0.7); /* èƒŒæ™¯é®ç½©ï¼Œè®©æ–‡å­—æ›´æ¸…æ™° */
      --card: rgba(255, 255, 255, 0.1);
      --text: rgba(255, 255, 255, 0.95);
      --muted: rgba(255, 255, 255, 0.75);
      --accent: #ffd36e; /* æš–é»„è‰²ç‚¹ç¼€ */
      --radius: 20px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; color:var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, "PingFang SC","Microsoft YaHei", Arial;
      
      /* èƒŒæ™¯ä¿®æ”¹ï¼šä½¿ç”¨ä¸€å¼ å¾ˆæœ‰æ°›å›´æ„Ÿçš„åœ£è¯æ ‘å›¾ç‰‡ */
      background: url('https://images.unsplash.com/photo-1576692131267-cf139df36350?q=80&w=1920&auto=format&fit=crop') no-repeat center center fixed;
      background-size: cover;
      
      min-height:100vh;
      overflow-x:hidden;
      position: relative;
    }
    /* ç»™èƒŒæ™¯åŠ ä¸€å±‚æš—è‰²é®ç½© */
    body::before {
      content: ""; position: absolute; inset: 0;
      background: var(--bg-overlay);
      z-index: -1;
    }

    .wrap{max-width:800px;margin:0 auto;padding:28px 18px 90px}
    
    .nav{
      display:flex;justify-content:space-between;align-items:center;
      padding:10px 0; opacity:.95; margin-bottom: 20px;
    }
    .brand{font-weight:700; letter-spacing:.5px; color: var(--accent);}
    .pill{
      display:inline-flex; gap:8px; align-items:center;
      padding:6px 14px; border:1px solid rgba(255,255,255,.2);
      border-radius:999px; background:rgba(0,0,0,.3);
      color:var(--muted); font-size:13px; backdrop-filter: blur(5px);
    }

    .hero{
      margin-top:10px;
      padding:36px 26px;
      border-radius:var(--radius);
      border:1px solid rgba(255,255,255,.2);
      /* ç»ç’ƒæ‹Ÿæ€æ•ˆæœ */
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      box-shadow: 0 8px 32px rgba(0,0,0,0.3);
      position:relative;
      overflow:hidden;
      text-align: center; 
    }
    .hero h1{margin:0; font-size:30px; line-height:1.3; font-weight: 800; text-shadow: 0 2px 10px rgba(0,0,0,0.5);}
    .hero p{margin:16px auto 0; color:var(--muted); font-size:17px; max-width:60ch; line-height: 1.6;}
    
    .grid{
      display:grid; gap:16px; margin-top:20px;
      grid-template-columns: 1fr; /* æ”¹ä¸ºå•åˆ—å¸ƒå±€ */
    }
    
    .card{
      border-radius:var(--radius);
      border:1px solid rgba(255,255,255,.15);
      background:var(--card);
      padding:24px 24px;
      backdrop-filter: blur(12px);
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    }
    .card h2{margin:0 0 16px; font-size:18px; color: var(--accent); display:flex; align-items:center; gap:8px;}
    
    /* ä¿¡ä»¶å†…å®¹æ ·å¼ */
    .letter-content {
      white-space: pre-wrap; /* å…³é”®ï¼šä¿ç•™ä½ çš„æ¢è¡Œæ ¼å¼ */
      line-height: 2;
      font-size: 16px;
      color: var(--text);
      text-align: justify;
    }

    .btn{
      border:0; cursor:pointer;
      padding:10px 16px; border-radius:14px;
      background:rgba(255,255,255,.15);
      color:var(--text);
      border:1px solid rgba(255,255,255,.25);
      transition: all .2s ease;
      font-weight:600; font-size: 14px;
    }
    .btn:hover{background:rgba(255,255,255,.25); transform: translateY(-2px);}
    .btn:active{transform:scale(.98)}
    .btn.primary{
      background:rgba(255,211,110,.25);
      border-color:rgba(255,211,110,.5);
      color:#fff;
    }
    
    /* ç…§ç‰‡æ ·å¼ï¼šå•å¼ å¤§å›¾ */
    .photo-container {
      width: 100%;
      border-radius: 18px;
      overflow: hidden;
      border: 1px solid rgba(255,255,255,.2);
      background: rgba(0,0,0,.2);
      position: relative;
    }
    .photo-container img {
      width: 100%; height: auto; display: block;
    }
    .photo-cap {
      padding: 15px; text-align: center;
      background: rgba(0,0,0,0.5);
      color: rgba(255,255,255,0.9); font-size: 14px;
    }
    
    .row{display:flex; gap:10px; flex-wrap:wrap; justify-content: center; margin-top: 20px;}
    
    .countdown{
      font-variant-numeric: tabular-nums;
      font-size:16px; font-weight:700;
      padding:8px 14px; border-radius:12px;
      background:rgba(0,0,0,.3);
      border:1px solid rgba(255,255,255,.2);
      color: #ffd36e;
    }

    .toast{
      position:fixed; left:50%; bottom:30px; transform:translateX(-50%);
      padding:12px 20px; border-radius:20px;
      background:rgba(0,0,0,.8);
      border:1px solid rgba(255,255,255,.2);
      backdrop-filter: blur(10px);
      display:none; z-index: 100;
      color: #fff;
    }
    
    canvas#snow{
      position:fixed; inset:0; pointer-events:none;
      z-index: 1; opacity: .8;
    }
  </style>
</head>
<body>
<canvas id="snow"></canvas>

<div class="wrap">
  <div class="nav">
    <div class="brand">âœ¨ Merry Christmas</div>
    <div class="pill">To: <strong id="toName">...</strong> Â· From: <strong id="fromName">...</strong></div>
  </div>

  <section class="hero">
    <h1 id="title">...</h1>
    <p id="subtitle">...</p>
    
    <div class="row">
        <button class="btn primary" id="btnSurprise">ğŸ ç‚¹æˆ‘çœ‹å½©è›‹</button>
        <span class="countdown" id="countdown">...</span>
    </div>
  </section>

  <div class="grid">
    <section class="card">
      <h2>ğŸ“œ ç»™å®å­çš„ä¸€å°ä¿¡</h2>
      <div class="letter-content" id="letter"></div>
      
      <div style="margin-top: 24px; padding-top: 16px; border-top: 1px solid rgba(255,255,255,0.1); display: flex; align-items: center; justify-content: space-between;">
        <span style="font-size:13px; color:var(--muted)">BGM</span>
        <button class="btn" id="btnMusic" style="font-size: 12px; padding: 8px 14px;">ğŸµ æ’­æ”¾éŸ³ä¹</button>
      </div>
      <audio id="music" loop>
        <source src="music.mp3" type="audio/mpeg">
      </audio>
    </section>

    <section class="card">
      <h2>ğŸ“¸ æˆ‘ä»¬çš„å›å¿†</h2>
      <div class="photo-container">
        <img src="photos/1.jpg" alt="Our Memory" onerror="this.src='https://images.unsplash.com/photo-1512389142860-9c449e58a543?q=80&w=1000&auto=format&fit=crop';this.parentElement.querySelector('.photo-cap').textContent='(è¯·åœ¨ photos æ–‡ä»¶å¤¹æ”¾å…¥ 1.jpg)'">
        <div class="photo-cap">æˆ‘ä¼šä¸€ç›´åœ¨ã€‚</div>
      </div>
    </section>

    <section class="card">
      <h2>ğŸŒ™ ä»Šæ™šçš„æ„¿æœ›</h2>
      <ul style="margin:0; padding-left:20px; line-height:2.0; color:var(--muted)">
        <li>ä½ è¦ä¹–ä¹–åƒé¥­ï¼Œæ—©ç‚¹ç¡è§‰</li>
        <li>ä¸èˆ’æœä¸è¦ç¡¬æ‰›ï¼Œæˆ‘ä¼šå¿ƒç–¼</li>
        <li>æ¢¦é‡Œæœ‰åœ£è¯æ ‘ï¼Œæœ‰ç¤¼ç‰©ï¼Œè¿˜æœ‰æˆ‘</li>
      </ul>
    </section>
  </div>
  
  <p style="text-align:center; margin-top:30px; opacity:0.6; font-size:12px;">Merry Christmas & Get Well Soon.</p>
</div>

<div class="toast" id="toast"></div>

<script>
  // ====== 1. é…ç½®åŒºåŸŸ ======
  const config = {
    toName: "å®å­",
    fromName: "çœŸå¯»",
    title: "ç¥ä½ åœ£è¯å¿«ä¹ ğŸ„",
    subtitle: "å¹³å®‰å¤œå¥½æ¢¦ æ—©æ—¥æ¢å¤å¥åº· âœ¨",
    // ä¿¡çš„å†…å®¹
    letter: `å®å­ï¼Œåœ£è¯å¿«ä¹ğŸ„

æœ€è¿‘ä½ ä¸€å®šè¦æŠŠèº«ä½“æ”¾åœ¨ç¬¬ä¸€ä½ï¼šæŒ‰æ—¶åƒé¥­ã€æ—©ç‚¹ç¡ã€åˆ«ç¡¬æ‰›ä¸èˆ’æœã€‚ä½ ä¸€çš±çœ‰æˆ‘å°±æƒ³ç«‹åˆ»æŠŠä½ æŠ±ç´§ã€‚

æˆ‘ä»¬ä¿©æ‰“æ¸¸æˆéƒ½èœèœçš„ä¹Ÿæ²¡å…³ç³»å‘€â€”â€”è¾“å°±è¾“ï¼Œåæ­£æˆ‘æœ€æ“…é•¿çš„ä¸æ˜¯æ“ä½œï¼Œæ˜¯ä¸€ç›´é™ªåœ¨ä½ æ—è¾¹ï¼šä¸€èµ·ä¹±æŒ‰æŠ€èƒ½ã€ä¸€èµ·ç¬‘å‡ºå£°ã€ä¸€èµ·æŠŠâ€œç¿»è½¦å±€â€æ‰“æˆâ€œçºªå¿µå±€â€ã€‚

ä»Šå¹´çš„ç¤¼ç‰©ä¸åªæ˜¯ä¸€å¥èŠ‚æ—¥å¿«ä¹ï¼Œæ˜¯æˆ‘å¯¹ä½ è®¤çœŸåˆç¬¨æ‹™çš„åœ¨ä¹ã€‚

æˆ‘ä¼šä¸€ç›´åœ¨ã€‚`,
    
    // å€’è®¡æ—¶æ—¶é—´ï¼šè®¾ä¸ºä»Šå¹´åœ£è¯
    targetTime: "2025-12-25T00:00:00" 
  };

  // ====== 2. å¡«å……å†…å®¹ ======
  document.getElementById("toName").textContent = config.toName;
  document.getElementById("fromName").textContent = config.fromName;
  document.getElementById("title").textContent = config.title;
  document.getElementById("subtitle").textContent = config.subtitle;
  document.getElementById("letter").textContent = config.letter;

  // ====== 3. äº¤äº’åŠŸèƒ½ ======
  const toast = (msg) => {
    const t = document.getElementById("toast");
    t.textContent = msg;
    t.style.display = "block";
    t.style.animation = "fadein 0.3s";
    clearTimeout(window.__toastTimer);
    window.__toastTimer = setTimeout(()=> t.style.display="none", 3000);
  };

  document.getElementById("btnSurprise").addEventListener("click", ()=>{
    toast("ğŸ ä½ æ˜¯æˆ‘ä»Šå¹´æœ€å¥½çš„ç¤¼ç‰©ï¼Œè¦å¿«ç‚¹å¥½èµ·æ¥ï¼");
    // è§¦å‘æ›´å¤šé›ªèŠ±
    for(let i=0;i<30;i++) flakes.push(createFlake());
  });

  // éŸ³ä¹æ§åˆ¶
  const music = document.getElementById("music");
  const btnMusic = document.getElementById("btnMusic");
  btnMusic.addEventListener("click", async ()=>{
    if (music.paused) { 
        try {
            await music.play();
            btnMusic.textContent = "â¸ æš‚åœéŸ³ä¹";
            toast("ğŸµ éŸ³ä¹å·²æ’­æ”¾"); 
        } catch(e) {
            toast("âš ï¸ æ’­æ”¾å¤±è´¥ï¼Œè¯·æ£€æŸ¥ music.mp3 æ˜¯å¦å­˜åœ¨");
        }
    } else { 
        music.pause(); 
        btnMusic.textContent = "ğŸµ æ’­æ”¾éŸ³ä¹";
        toast("â¸ éŸ³ä¹å·²æš‚åœ"); 
    }
  });

  // ====== 4. å€’è®¡æ—¶é€»è¾‘ ======
  const cd = document.getElementById("countdown");
  const target = new Date(config.targetTime).getTime();
  
  const tick = ()=>{
    const now = Date.now();
    let diff = target - now;
    
    if (diff <= 0) {
        cd.textContent = "ğŸ„ åœ£è¯å¿«ä¹ï¼";
        return;
    }

    const d = Math.floor(diff / (1000*60*60*24));
    const h = Math.floor((diff % (1000*60*60*24)) / (1000*60*60));
    const m = Math.floor((diff % (1000*60*60)) / (1000*60));
    cd.textContent = `è·ç¦»åœ£è¯ï¼š${d}å¤© ${h}æ—¶ ${m}åˆ†`;
  };
  tick(); setInterval(tick, 1000);

  // ====== 5. é›ªèŠ±æ•ˆæœ ======
  const canvas = document.getElementById("snow");
  const ctx = canvas.getContext("2d");
  let W,H,flakes=[];
  
  const createFlake = () => ({
    x: Math.random()*W,
    y: Math.random()*H,
    r: 0.5 + Math.random()*2.5, 
    vy: 0.4 + Math.random()*1.5, 
    vx: (Math.random()-0.5)*0.5,
    a: 0.3 + Math.random()*0.6 
  });

  function resize(){
    W = canvas.width = window.innerWidth;
    H = canvas.height = window.innerHeight;
    flakes = Array.from({length: Math.min(100, Math.floor(W*H/12000))}, createFlake);
  }
  window.addEventListener("resize", resize);
  resize();
  
  function draw(){
    ctx.clearRect(0,0,W,H);
    for(const f of flakes){
      f.x += f.vx; f.y += f.vy;
      if(f.y > H) { f.y = -5; f.x = Math.random()*W; }
      if(f.x > W) f.x = 0; if(f.x < 0) f.x = W;
      
      ctx.beginPath();
      ctx.arc(f.x,f.y,f.r,0,Math.PI*2);
      ctx.fillStyle = `rgba(255,255,255,${f.a})`;
      ctx.fill();
    }
    requestAnimationFrame(draw);
  }
  draw();
</script>
</body>
</html>
